!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["video/player/localtime"]=t():e["video/player/localtime"]=t()}(self,(function(){return function(){"use strict";var e={d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{component:function(){return c}});var o=coreApis.componentApis.video.playerAgent,n=coreApis.observer,i=coreApis.settings,a=coreApis.utils.urls;let r,s=none;var l;!function(e){e.TR="右上角",e.TL="左上角"}(l||(l={}));const c={name:"videoCurTime",author:{name:"FoundTheWOUT",link:"https://github.com/FoundTheWOUT"},description:{"zh-CN":"在视频的右上角显示当前时间"},displayName:"视频内显示时间",entry:async({settings:{options:e},metadata:t})=>{const a=document.createElement("span");a.id="cur-time";const c={position:"absolute",top:"0",right:"0",zIndex:"10",fontSize:"x-large",fontWeight:"bold",margin:"1rem"},d={color:e.color,opacity:e.opacity};Object.keys(Object.assign(c,d)).forEach((e=>{a.style[e]=c[e]})),Object.keys(d).forEach((e=>{(0,i.addComponentListener)(`${t.name}.${e}`,(t=>{a.style[e]=t}))})),(0,i.addComponentListener)(`${t.name}.position`,(e=>{e===l.TR?(a.style.left="",a.style.right="0"):e===l.TL&&(a.style.right="",a.style.left="0")}),!0),(0,n.videoChange)((async()=>{(await o.playerAgent.query.video.wrap()).appendChild(a)})),s=()=>{const t=new Date;a.innerHTML=((e,t)=>{let o=e.getHours(),n=e.getMinutes().toFixed(),i=e.getSeconds().toFixed();Number(n)<10&&(n=n.padStart(2,"0")),Number(i)<10&&(i=i.padStart(2,"0")),!t?.TFFormat&&o>12&&(o-=12);const a=`${o}:${n}`;return t?.showSecond?`${a}:${i}`:a})(t,e)},r=setInterval(s,1e3)},reload(){document.getElementById("cur-time").style.visibility="",r=setInterval(s,1e3)},unload(){document.getElementById("cur-time").style.visibility="hidden",clearInterval(r)},tags:[componentsTags.video],options:{opacity:{slider:{max:1,min:0,step:.01},defaultValue:.5,displayName:"透明度"},color:{color:!0,defaultValue:"#d1d5db",displayName:"颜色"},showSecond:{defaultValue:!1,displayName:"显示秒"},TFFormat:{defaultValue:!0,displayName:"24小时制"},position:{defaultValue:l.TR,displayName:"位置",dropdownEnum:l}},urlInclude:a.allVideoUrls,commitHash:"e1d9ceac8f74eef4c07a2b428e0cb55c7a9558b1",coreVersion:"2.1.8"};return t=t.component}()}));